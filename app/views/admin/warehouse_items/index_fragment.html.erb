<table>
  <thead>
    <tr>
      <th>Nome</th>
      <th>Quantit√†</th>
      <th>Scorta</th>
      <th>Qt&agrave; max acquistabile</th>
      <th>Importo unitario</th>
      <th>Totale</th>
    </tr>
  </thead>
  <tbody>
    <% @list.each do |item| %>
      <tr>
        <td><%= item.name %></td>
        <% max_purchasable = [item.stock_count, item.max_purchasable_count].compact.min %>
        <td><%= number_field_tag "item_#{item.id}", 0, in: (0..max_purchasable), data: { quantity_input: true, id: item.id, unitary_amount: item.unitary_amount } %></td>
        <td><%= item.stock_count %></td>
        <td><%= max_purchasable %></td>
        <td><%= item.unitary_amount %></td>
        <td data-price-view>0</td>
      </tr>
    <% end %>
  </tbody>
</table>
